<?xml version="1.0" encoding="utf-8"?>
<root xmlns:android="http://schemas.android.com/apk/res/android">
  
	<AARImports>
		<insertValue value="com.google.firebase,firebase-analytics,11.8.0" />
	</AARImports>

  <androidManifestUpdates>
    <addPermission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <addPermission android:name="android.permission.INTERNET" />
  </androidManifestUpdates>

  <gameActivityImportAdditions>
    <insert>
      import com.google.firebase.FirebaseApp;
      import com.google.firebase.FirebaseOptions;
      import com.google.firebase.analytics.FirebaseAnalytics;
    </insert>
  </gameActivityImportAdditions>

  <gameActivityClassAdditions>
    <insert>
      private FirebaseAnalytics Analytics;

      public void AndroidThunkJava_Initialize(String ApplicationID, String APIKey,
                                              String DatabaseURL, String SenderID,
                                              String StorageBucket, String ProjectID)
      {
        FirebaseOptions.Builder OptionsBuilder = new FirebaseOptions.Builder()
                                                 .setApplicationId(ApplicationID)
                                                 .setApiKey(APIKey)
                                                 .setDatabaseUrl(DatabaseURL)
                                                 .setGcmSenderId(SenderID)
                                                 .setStorageBucket(StorageBucket)
                                                 .setProjectId(ProjectID);
        FirebaseApp.initializeApp(this, OptionsBuilder.build());
      }

      public void AndroidThunkJava_LogEvent(String EventName)
      {
        Bundle Parameters = new Bundle();
        Analytics.logEvent(EventName, Parameters);
      }

      public void AndroidThunkJava_LogEventWithParameter(String EventName, String ParameterName, String ParameterValue)
      {
        Bundle Parameters = new Bundle();
        Parameters.putString(ParameterName, ParameterValue);
        Analytics.logEvent(EventName, Parameters);
      }

      public void AndroidThunkJava_LogEventWithParameter(String EventName, String ParameterName, float ParameterValue)
      {
        Bundle Parameters = new Bundle();
        Parameters.putFloat(ParameterName, ParameterValue);
        Analytics.logEvent(EventName, Parameters);
      }

      public void AndroidThunkJava_LogEventWithParameter(String EventName, String ParameterName, int ParameterValue)
      {
        Bundle Parameters = new Bundle();
        Parameters.putInt(ParameterName, ParameterValue);
        Analytics.logEvent(EventName, Parameters);
      }

      ///
      // With Parameters
      //

      public void AndroidThunkJava_ResetAnalyticsData()
      {
        Analytics.resetAnalyticsData();
      }

      public void AndroidThunkJava_SetAnalyticsCollectionEnabled(boolean Enabled)
      {
        Analytics.setAnalyticsCollectionEnabled(Enabled);
      }

      public void AndroidThunkJava_SetSessionTimeoutDuration(int Milliseconds)
      {
        Analytics.setSessionTimeoutDuration(Milliseconds);
      }

      public void AndroidThunkJava_SetUserID(String UserID)
      {
        Analytics.setUserId(UserID);
      }

      public void AndroidThunkJava_SetUserProperty(String PropertyName, String PropertyValue)
      {
        Analytics.setUserProperty(PropertyName, PropertyValue);
      }
    </insert>
  </gameActivityClassAdditions>

</root>